import{i as r,r as D,o as v,d as u,g as c,w as L,n as o,F as H,h as k,a as $,u as V,b as M,bF as F,bK as U,f,p as T,bH as C,m as O,l as j,t as z,bL as A,bM as Y,x as K,bN as W,y as Q,z as B,bO as S,bP as E,bQ as q,bB as G,C as N,bC as J,bE as X}from"./vendor.c0c18083.js";import{_ as b,N as Z}from"./index.c4540256.js";function Ke(){const e=r(null);function n(a){e.value=a}function s(a){return a.filter(i=>i.original_title.includes(e.value.toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.substring(1)).join(" ")))}return{searchTerm:e,setSearchTerm:n,searchMovie:s}}const x="_navLinksItem_j2oe6_1",ee="_active_j2oe6_13";var se={navLinksItem:x,active:ee};const oe={},ne=k("Home"),te=k("Movies"),ae=k("My list");function ie(e,n){const s=D("router-link");return v(),u(H,null,[c(s,{to:{name:"Browse"},"active-class":e.classes.active,class:o(e.classes.navLinksItem)},{default:L(()=>[ne]),_:1},8,["active-class","class"]),c(s,{to:{name:"Movies"},"active-class":e.classes.active,class:o(e.classes.navLinksItem)},{default:L(()=>[te]),_:1},8,["active-class","class"]),c(s,{to:{name:"MyList"},"active-class":e.classes.active,class:o(e.classes.navLinksItem)},{default:L(()=>[ae]),_:1},8,["active-class","class"])],64)}const le={classes:se};var ce=b(oe,[["render",ie],["__cssModules",le]]);const re="_header_9t6al_1",_e="_nav_9t6al_9",de="_navLeft_9t6al_29",ve="_browseBtn_9t6al_39",ue="_navLinks_9t6al_47",fe="_navRight_9t6al_73",me="_searchInput_9t6al_83",pe="_navRightIconSearch_9t6al_105",he="_navRightIcon_9t6al_105",Ie="_profilesDropdown_9t6al_119",ge="_dropdownProfile_9t6al_130",we="_dropdownProfileIcon_9t6al_141",Le="_dropdownProfileName_9t6al_145",Me="_signOut_9t6al_150";var ye={header:re,nav:_e,navLeft:de,browseBtn:ve,navLinks:ue,navRight:fe,searchInput:me,navRightIconSearch:pe,navRightIcon:he,profilesDropdown:Ie,dropdownProfile:ge,dropdownProfileIcon:we,dropdownProfileName:Le,signOut:Me};const ke=e=>(A("data-v-0b4979c9"),e=e(),Y(),e),be=k(" Browse "),Pe=ke(()=>f("p",null,"Profiles",-1)),Re=["onClick"],Te={emits:["search"],setup(e,{emit:n}){const s=$(),a=V(),_=M(()=>s.state.userProfiles.userProfiles),i=M(()=>s.state.userProfiles.clickedProfile),l=r(!0);r(!1);const h=r(!1),I=r(!0),m=r(null);function p(){l.value=!l.value}function d(){h.value=!h.value}function P(t){s.dispatch("SET_CLICKED_PROFILE",t),a.push({name:"LoadingProfile"})}function g(){const t=K();W(t).then(()=>{a.push({name:"SignIn"}),s.dispatch("RESET_CURRENT_USER")})}function w(){I.value=window.innerWidth<1024,I.value?l.value=!1:l.value=!0}return F(()=>{w(),window.addEventListener("resize",w)}),U(()=>{window.removeEventListener("resize",w)}),(t,je)=>{const R=D("font-awesome-icon");return v(),u("header",{class:o(t.classes.header)},[f("nav",{class:o(t.classes.nav)},[f("div",{class:o(t.classes.navLeft)},[c(Z),I.value?(v(),u("button",{key:0,class:o(t.classes.browseBtn),onClick:p},[be,f("span",null,[c(R,{icon:"angle-down"})])],2)):T("",!0),c(C,{name:"slide-down",mode:"out-in"},{default:L(()=>[l.value?(v(),u("ul",{key:0,class:o(t.classes.navLinks)},[c(ce)],2)):T("",!0)]),_:1})],2),f("div",{class:o(t.classes.navRight),ref_key:"clickOutsideRef",ref:m},[c(R,{icon:O(i).icon,class:o(t.classes.navRightIcon),onClick:d},null,8,["icon","class"]),c(C,{name:"slide-down",mode:"out-in"},{default:L(()=>[h.value?(v(),u("div",{key:0,class:o(t.classes.profilesDropdown)},[Pe,(v(!0),u(H,null,j(O(_),y=>(v(),u("div",{class:o(t.classes.dropdownProfile),key:y.id,onClick:ze=>P(y)},[c(R,{icon:y.icon,class:o(t.classes.dropdownProfileIcon)},null,8,["icon","class"]),f("p",{class:o(t.classes.dropdownProfileName)},z(y.name),3)],10,Re))),128)),f("p",{class:o(t.classes.signOut),onClick:g},"Sign Out",2)],2)):T("",!0)]),_:1})],2)],2)],2)}}},$e={classes:ye};var We=b(Te,[["__cssModules",$e],["__scopeId","data-v-0b4979c9"]]);function Ce(){const e=r(!1),n=r(null);function s(_){e.value=!0,n.value=_}function a(){e.value=!1}return{isMovieModalOpen:e,clickedMovie:n,openModal:s,closeModals:a}}function Oe(){const e=$(),n=r(!1),s=r(!1);function a(i){e.dispatch("FETCH_MOVIE_TRAILER",i.id),n.value=!0,s.value=!0}function _(i){n.value=i,s.value=i}return{openMovieTrailerModal:a,closeMovieTrailerModal:_,isBackdropOpen:n}}function Be(){const e=$(),n=M(()=>e.state.userData.currentUser),s=M(()=>e.state.userProfiles.clickedProfile),a=M(()=>e.state.userMovieList.userMovieList),_=Q(),i=B(_,`users/${n.value.id}/profiles/${s.value.id}/moviesList`);function l(m){const p=S(i,q("id"),E(m.id)),d=G(i);N(p,g=>{g.exists()===!1&&J(d,m)})(),e.dispatch("SET_USER_MOVIE_LIST_FROM_DB")}function h(m){const p=a.value.find(d=>d.id===m.id);if(p!==void 0){const d=S(i,q("id"),E(p.id));N(d,g=>{g.forEach(w=>{X(B(_,`users/${n.value.id}/profiles/${s.value.id}/moviesList/${w.key}`))})})(),e.dispatch("SET_USER_MOVIE_LIST_FROM_DB")}}function I(m){if(a.value&&a.value.find(d=>d.id===m.id))return!0}return{addToProfileList:l,deleteFromProfileList:h,isMovieInUserList:I}}const Se="_netflixBorder_f6d5h_1";var Ee={netflixBorder:Se};const qe={};function Ne(e,n){return v(),u("div",{class:o(e.classes.netflixBorder)},null,2)}const De={classes:Ee};var Qe=b(qe,[["render",Ne],["__cssModules",De]]),He={};const Ve=["src"],Fe={props:{movies:Object},setup(e){return Ce(),Oe(),Be(),(n,s)=>(v(),u("div",{class:"move_card",key:e.movies.id},[f("div",{class:o(n.classes.movieCardOverlay)},null,2),f("img",{class:"move_img",styles:"{{height:100%}}",src:e.movies.img,alt:`movie
    poster`},null,8,Ve)]))}},Ue={classes:He};var Ge=b(Fe,[["__cssModules",Ue]]);export{Ge as M,Qe as N,We as R,Ke as u};
