import{o as u,d as m,e as V,n as e,a as N,i as y,b as I,r as E,f as o,g as p,j as U,v as O,m as b,t as R,p as q,w as h,h as C,y as x,z,bB as A,bC as j,F as M,l as T,bD as G,bE as K,c as F,u as Y,bF as J,bG as Q,bH as X,bI as Z}from"./vendor.c0c18083.js";import{L as ee}from"./LogoNav.2a4ad611.js";import{_ as w}from"./index.c4540256.js";import{C as S}from"./ContinueBtn.0c5e7f29.js";const se="_profilesBtn_1pmx6_1";var oe={profilesBtn:se};const ne={};function ae(d,t){return u(),m("button",{class:e(d.classes.profilesBtn)},[V(d.$slots,"default")],2)}const le={classes:oe};var k=w(ne,[["render",ae],["__cssModules",le]]);const re="_addProfilesWrapper_9uo2z_1",ie="_profileHeading_9uo2z_8",te="_profileSecondaryHeading_9uo2z_12",ce="_profileFormWrapper_9uo2z_19",pe="_icon_9uo2z_33",fe="_nameInput_9uo2z_37",ue="_validNameInput_9uo2z_45",de="_ctaWrapper_9uo2z_49",_e="_continueBtn_9uo2z_63";var me={addProfilesWrapper:re,profileHeading:ie,profileSecondaryHeading:te,profileFormWrapper:ce,icon:pe,nameInput:fe,validNameInput:ue,ctaWrapper:de,continueBtn:_e};const ve={key:0},Pe=C("Continue"),ge=C("Back"),Ie={emits:["change-component"],setup(d,{emit:t}){const n=N(),s=y("");let l=y(null);const i=I(()=>n.state.userData.currentUser.id),r=I(()=>n.state.userProfiles.userProfiles);function c(){s.value?r.value.length>=5?l.value="You can only have a maximum of 5 Profiles.":_()!==-1?l.value="This profile name already exists":l.value=null:l.value="Please enter a user name"}function _(){return r.value.findIndex(v=>v.name===s.value)}function $(){c(),_()===-1&&l.value===null&&(P(),t("change-component",B))}function P(){const f={name:s.value,icon:"smile"},v=x(),a=z(v,`users/${i.value}/profiles`),g=A(a);r.value.length<5&&(j(g,f),n.dispatch("SET_USER_PROFILES_FROM_DB"))}function H(){t("change-component",B)}return(f,v)=>{const a=E("font-awesome-icon");return u(),m("div",{class:e(f.classes.addProfilesWrapper)},[o("h1",{class:e(f.classes.profileHeading)},"Add a profile",2),o("h2",{class:e(f.classes.profileSecondaryHeading)}," Add a profile for another person watching Netclone ",2),o("div",{class:e(f.classes.profileFormWrapper)},[p(a,{icon:"smile",class:e(f.classes.icon)},null,8,["class"]),U(o("input",{type:"text",placeholder:"Name","onUpdate:modelValue":v[0]||(v[0]=g=>s.value=g),class:e([s.value.length>1?[f.classes.nameInput,f.classes.validNameInput]:f.classes.nameInput])},null,2),[[O,s.value]])],2),b(l)?(u(),m("p",ve,R(b(l)),1)):q("",!0),o("div",{class:e(f.classes.ctaWrapper)},[o("div",{class:e(f.classes.continueBtn)},[p(S,{onClick:$},{default:h(()=>[Pe]),_:1})],2),p(k,{onClick:H},{default:h(()=>[ge]),_:1})],2)],2)}}},he={classes:me};var we=w(Ie,[["__cssModules",he]]);const $e="_editProfileWrapper_b5xwa_1",Ce="_editProfileHeading_b5xwa_20",We="_profileInfo_b5xwa_25",be="_profileIcon_b5xwa_35",Be="_nameInput_b5xwa_39",Ne="_validNameInput_b5xwa_47",Ee="_avatarHeading_b5xwa_51",ye="_newIconsWrapper_b5xwa_62",Me="_newIcon_b5xwa_62",ke="_ctaWrapper_b5xwa_88",He="_cancelBtn_b5xwa_93";var Se={editProfileWrapper:$e,editProfileHeading:Ce,profileInfo:We,profileIcon:be,nameInput:Be,validNameInput:Ne,avatarHeading:Ee,newIconsWrapper:ye,newIcon:Me,ctaWrapper:ke,cancelBtn:He};const Re=C("Save Profile"),Te=C("Delete Profile"),Fe=C("Cancel"),De={emits:["change-component"],setup(d,{emit:t}){const n=N(),s=I(()=>n.state.userProfiles.clickedProfile),l=I(()=>n.state.userData.currentUser.id);I(()=>n.state.userProfiles),console.log(s.value);const i=["smile","flushed","grin-tongue-wink","grin-tears"],r=y(s.value.name),c=y(s.value.icon),_=x(),$=z(_,`users/${l.value}/profiles/${s.value.id}`);function P(a){c.value=a}function H(){const a={icon:c.value,name:r.value};G($,a),n.dispatch("SET_USER_PROFILES_FROM_DB"),v(B)}function f(){K($),n.dispatch("SET_USER_PROFILES_FROM_DB"),v(B)}function v(a){t("change-component",a)}return(a,g)=>{const D=E("font-awesome-icon");return u(),m("div",{class:e(a.classes.editProfileWrapper)},[o("h1",{class:e(a.classes.editProfileHeading)},"Edit profile",2),o("div",{class:e(a.classes.profileInfo)},[o("div",{class:e(a.classes.iconsWrapper)},[p(D,{icon:c.value,class:e(a.classes.profileIcon)},null,8,["icon","class"])],2),U(o("input",{type:"text",placeholder:"Name","onUpdate:modelValue":g[0]||(g[0]=W=>r.value=W),class:e([r.value.length>1?[a.classes.nameInput,a.classes.validNameInput]:a.classes.nameInput])},null,2),[[O,r.value]])],2),o("h2",{class:e(a.classes.avatarHeading)},"Choose an avatar",2),o("div",{class:e(a.classes.newIconsWrapper)},[(u(),m(M,null,T(i,W=>p(D,{icon:W,class:e(a.classes.newIcon),key:W.index,onClick:Bs=>P(W)},null,8,["icon","class","onClick"])),64))],2),o("div",{class:e(a.classes.ctaWrapper)},[p(S,{onClick:H},{default:h(()=>[Re]),_:1}),p(S,{onClick:f},{default:h(()=>[Te]),_:1}),o("div",{class:e(a.classes.cancelBtn)},[p(k,{onClick:g[1]||(g[1]=W=>v(L))},{default:h(()=>[Fe]),_:1})],2)],2)],2)}}},Ue={classes:Se};var Oe=w(De,[["__cssModules",Ue]]);const xe="_profileCard_dbqog_1",ze="_profileIcon_dbqog_13",Le="_profileName_dbqog_18",Ve="_editProfileIcon_dbqog_23";var qe={profileCard:xe,profileIcon:ze,profileName:Le,editProfileIcon:Ve};const Ae={props:{profile:Object},emits:["go-to-edit-profile"],setup(d,{emit:t}){const n=d;return(s,l)=>{const i=E("font-awesome-icon");return u(),m("div",{class:e(s.classes.profileCard)},[p(i,{icon:n.profile.icon,class:e(s.classes.profileIcon)},null,8,["icon","class"]),o("p",{class:e(s.classes.profileName)},R(n.profile.name),3),p(i,{icon:"edit",class:e(s.classes.editProfileIcon)},null,8,["class"])],2)}}},je={classes:qe};var Ge=w(Ae,[["__cssModules",je]]);const Ke="_profileCard_98ipx_1",Ye="_profileIcon_98ipx_13",Je="_profileName_98ipx_18",Qe="_userProfilesWrapper_98ipx_23",Xe="_profilesHeading_98ipx_30",Ze="_profiles_98ipx_30",es="_editProfileIcon_98ipx_44";var ss={profileCard:Ke,profileIcon:Ye,profileName:Je,userProfilesWrapper:Qe,profilesHeading:Xe,profiles:Ze,editProfileIcon:es};const os=C("Back"),ns={emits:["change-component"],setup(d,{emit:t}){const n=N(),s=I(()=>n.state.userProfiles.userProfiles);function l(r){n.dispatch("SET_CLICKED_PROFILE",r),t("change-component",Oe)}function i(){t("change-component",B)}return(r,c)=>(u(),m("div",{class:e(r.classes.userProfilesWrapper)},[o("h1",{class:e(r.classes.profilesHeading)},"Manage Profiles",2),o("div",{class:e(r.classes.profiles)},[(u(!0),m(M,null,T(b(s),_=>(u(),F(Ge,{key:_.id,profile:_,onClick:$=>l(_)},null,8,["profile","onClick"]))),128))],2),o("div",null,[p(k,{onClick:i},{default:h(()=>[os]),_:1})])],2))}},as={classes:ss};var L=w(ns,[["__cssModules",as]]);const ls="_profileCard_1scxr_1",rs="_profileIcon_1scxr_13",is="_profileName_1scxr_18";var ts={profileCard:ls,profileIcon:rs,profileName:is};const cs={props:{profile:Object},emits:["goToBrowse"],setup(d,{emit:t}){function n(s){t("goToBrowse",s)}return(s,l)=>{const i=E("font-awesome-icon");return u(),m("div",{class:e(s.classes.profileCard),onClick:l[0]||(l[0]=r=>n(d.profile))},[p(i,{icon:d.profile.icon,class:e(s.classes.profileIcon)},null,8,["icon","class"]),o("p",{class:e(s.classes.profileName)},R(d.profile.name),3)],2)}}},ps={classes:ts};var fs=w(cs,[["__cssModules",ps]]);const us="_userProfilesWrapper_1lxw9_1",ds="_profilesHeading_1lxw9_8",_s="_profiles_1lxw9_8",ms="_addIcon_1lxw9_22",vs="_profileParagraph_1lxw9_29";var Ps={userProfilesWrapper:us,profilesHeading:ds,profiles:_s,addIcon:ms,profileParagraph:vs};const gs=C("Manage profiles"),Is={emits:["change-component"],setup(d,{emit:t}){const n=Y(),s=N(),l=I(()=>s.state.userProfiles.userProfiles);function i(c){t("change-component",c)}function r(c){s.dispatch("SET_CLICKED_PROFILE",c),n.push({name:"Browse"})}return(c,_)=>{const $=E("font-awesome-icon");return u(),m("div",{class:e(c.classes.userProfilesWrapper)},[o("h1",{class:e(c.classes.profilesHeading)},"Who is watching?",2),o("div",{class:e(c.classes.profiles)},[(u(!0),m(M,null,T(b(l),P=>(u(),F(fs,{key:P.id,profile:P,onGoToBrowse:r},null,8,["profile"]))),128))],2),p($,{icon:"plus-square",class:e(c.classes.addIcon),onClick:_[0]||(_[0]=P=>i(we))},null,8,["class"]),o("p",{class:e(c.classes.profileParagraph)},"Add a profile",2),o("div",null,[p(k,{onClick:_[1]||(_[1]=P=>i(L))},{default:h(()=>[gs]),_:1})])],2)}}},hs={classes:Ps};var B=w(Is,[["__cssModules",hs]]);const ws="_profiles_1gywr_1";var $s={profiles:ws};const Cs={class:"container"},Ws={setup(d){J(async()=>{await n.dispatch("SET_CURRENT_USER"),await n.dispatch("SET_USER_PROFILES_FROM_DB")});let t=Q(B);const n=N(),s=I(()=>n.state.userProfiles.userProfiles);function l(i){t.value=i}return(i,r)=>(u(),m(M,null,[p(ee),o("section",{class:e(i.classes.profiles)},[o("div",Cs,[p(X,{name:"fade",mode:"out-in"},{default:h(()=>[(u(),F(Z(b(t)),{onChangeComponent:l,userProfiles:b(s).value},null,8,["userProfiles"]))]),_:1})])],2)],64))}},bs={classes:$s};var ks=w(Ws,[["__cssModules",bs]]);export{ks as default};
